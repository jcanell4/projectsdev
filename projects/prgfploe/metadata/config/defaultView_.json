{
    "definition": {
        "n_columns": 12,
        "n_rows": 10,
        "chars_column": 10, 
        "rows_row": 1
    },
    "groups": {
        "main": {
            "parent": "",
            "label": "Dades generals del mòdul",
            "n_columns": 12,
            "n_rows": 1,
            "frame": true,
            "config":{
                "collapsable":true,
                "collapsed":true
            }
        },
        "UF": {
            "parent": "",
            "label": "Dades de cada UF",
            "n_columns": 12,
            "n_rows": 1,
            "frame": true,
            "config":{
                "collapsable":true,
                "collapsed":false
            }
        },
        "NF": {
            "parent": "",
            "label": "Dades de cada NF",
            "n_columns": 12,
            "n_rows": 1,
            "frame": true,
            "config":{
                "collapsable":true,
                "collapsed":false
            }
        },
        "extres": {
            "parent": "",
            "label": "Informació extra per aquest pla de treball",
            "n_columns": 12,
            "frame": true,
            "config":{
                "collapsable":true,
                "collapsed":false
            }
        },
        "authorship": {
            "parent": "",
            "label": "Autoria i control de canvis",
            "n_columns": 12,
            "frame": true,
            "config":{
                "collapsable":true,
                "collapsed":true
            }
        }        
    },
    "fields": {
      "departament":{
        "n_columns": 6,
        "label": "Departament (departament)",
        "group": "main",
        "props": {
          "required": true,
          "title" : "Indiqueu de quin departament és aquesta programació."
        }
      },      
      "cicle": {
        "label" : "Nom del cicle (cicle)",
        "n_columns": 6,
        "group": "main",
        "props": {
          "required": true,
          "title": "indiqueu el nom del cicle"
        }
      },
      "modulId": {
        "label" : "Codi del mòdul (modulId)",
        "n_columns": 4,
        "group": "main",
        "props": {
          "required": true,
          "title": "indiqueu el codi del mòdul en format MXX. Per exemple: M02"
        }
      },
      "modul": {
        "label" : "Nom del mòdul o bloc (modul)",
        "n_columns": 8,
        "group": "main",
        "props": {
          "required": true,
          "title": "indiqueu el nom del mòdul. Per exemple: Seguretat i alta disponibilitat"
        }
      },
      "duradaCicle": {
        "label" : "Durada del Cicle(duradaCicle)",
        "n_columns": 4,
        "group": "main",
        "props": {
          "required": true,
          "title": "Indiqueu la durada del cicle en hores"
        }
      },
      "durada": {
        "label" : "Durada (durada)",
        "n_columns": 2,
        "group": "main",
        "props": {
          "required": true,
          "readonly": true,
          "title": "Aquest és un camp calculat. No l'heu d'introduir"
        }
      },
      "taulaDadesUF": {
        "label": "Unitats Formatives (taulaDadesUF)",
        "n_columns": 12,
        "type": "editableObject",
        "group": "UF",
        "n_rows": 5,
        "props": {
          "data-editable-element": "table",
          "title": "Detalleu les dades de cada UF. No cal que ompliu les hores de les UFs detallades en aquest bloc o mòdul, es calculen automàticament."      
        },
        "config": {
          "actions": {
            "set_multiple_default_rows": "Definir el nombre d'Unitats Formatives del mòdul",
            "remove_rows": "Eliminar les Unitats Formatives seleccionades",
            "add_default_row_before": "Afegir unitat abans de la fila seleccionada"
          },
          "fields": {
            "bloc":{
              "type": "number"         
            },        
            "unitat formativa": {
              "type": "number"
            },
            "nom": {
              "type": "string"
            },
            "horesMinimes": {
                "type": "number"
            },
            "horesLLiureDisposicio": {
                "type": "number"
            },
            "hores": {
              "type": "number"
            },
            "ponderació": {
              "type": "decimal"
            }
          },
          "layout": [
            {
              "defaultCell": {
                "width" : "15%"
              },
              "cells": [
                {
                  "name": "unitat formativa",
                  "field": "unitat formativa",
                  "editable": true
                },

                {
                  "name": "nom",
                  "field": "nom",
                   "width":"40%",
                  "editable": true
                },

                {
                  "name": "hores",
                  "field": "hores",
                  "editable": true
                },

                {
                  "name": "ponderació",
                  "field": "ponderació",
                  "constraints": "{\"places\":2}",
                  "editable": true
                }
              ]
            }
          ]
        }
      },
      "taulaDadesUnitats": {
        "label": "Unitats (taulaDadesUnitats)",
        "n_columns": 12,
        "type": "editableObject",
        "group": "main",
        "n_rows": 8,
        "props": {
          "data-editable-element": "table",
          "title": "Detalleu les dades referents a cada unitat. No heu d'omplir les hores de les unitat, es calculen automàticament"      
        },
        "config": {
          "actions": {
            "set_multiple_default_rows": "Definir el nombre d'unitats",
            "remove_rows": "Eliminar les unitats seleccionades",
            "add_default_row_before": "Afegir unitat abans de la fila seleccionada"
          },
          "fields": {
            "unitat formativa": {
              "type": "number"
            },
            "unitat": {
              "type": "number"
            },
            "nom": {
              "type": "string"
            },
            "hores": {
              "type": "number"
            }
          },
          "layout": [
            {
              "defaultCell": {
                "width" : "15%"
              },
              "cells": [
                {
                  "name": "unitat formativa",
                  "field": "unitat formativa",
                  "editable": true
                },

                {
                  "name": "unitat",
                  "field": "unitat",
                  "editable": true
                },

                {
                  "name": "nom",
                  "field": "nom",
                   "width":"55%",
                  "editable": true
                },

                {
                  "name": "hores",
                  "field": "hores",
                  "editable": false
                }
              ]
            }
          ]
        }
      },
      "einesAprenentatge": {
        "label": "Taula de les eines d'estudi (einesAprenentatge)",
        "n_columns": 12,
        "type": "editableObject",
        "group": "main",
        "n_rows": 8,
        "props": {
          "data-editable-element": "table",
          "title": "Detalleu els recursos i les eines usades en l'aprenentatge de l'alumne"
        },
        "config": {
          "actions": {
            "add_default_row": "Afegir eina",
            "remove_rows": "Eliminar eines seleccionades",
            "add_default_row_before": "Afegir eina abans de la fila seleccionada"
          },
          "fields": {
            "tipus": {
              "type": "select",
              "options": ["lectura", "autoavaluació", "fòrum", "qüestionari", "exercicis"]                        
            },
            "eina": {
              "type": "string"
            },
            "opcionalitat": {
              "type": "string"
            },
            "puntuable": {
              "type": "bool"
            }
          }
        }
      },
      "resultatsAprenentatge": {
        "label": "Taula dels resultats d'aprenentatge (resultatsAprenentatge)",
        "n_columns": 12,
        "type": "editableObject",
        "group": "main",
        "n_rows": 8,
        "props": {
          "data-editable-element": "table",
          "title": "Detalleu els resultats d'aprenentatge."
        },
        "config": {
          "actions": {
            "add_default_row": "Afegir RA",
            "remove_rows": "Eliminar els RA seleccionats",
            "add_default_row_before": "Afegir RA abans de la fila seleccionada"
          },
          "fields": {
            "id": {
              "type": "string"
            },
            "descripcio": {
              "type": "string"
            }
          }
        }
      },
      "activitatsAprenentatge": {
        "label": "Taula de les activitats d'aprenentatge (activitatsAprenentatge)",
        "n_columns": 12,
        "type": "editableObject",
        "group": "main",
        "n_rows": 8,
        "props": {
          "data-editable-element": "table",
          "title": "Detalleu les activitats d'aprenentatge."
        },
        "config": {
          "actions": {
            "add_default_row": "Afegir activitat",
            "remove_rows": "Eliminar les activitats seleccionades",
            "add_default_row_before": "Afegir activitat abans de la fila seleccionada"
          },
          "fields": {
            "unitat": {
                "type": "number"
            },
            "període": {
                "type": "number"
            },
            "eina": {
              "type": "select",
              "options": ["lectura", "autoavaluació", "fòrum", "qüestionari", "exercicis", "altres"]                        
            },
            "descripció": {
                "type": "string"
            }
          }
        }
      },
      "avaluacioInicial":{
        "label": "Avaluació inicial (avaluacioInicial)",
        "type":"select",
        "n_columns":6,
        "group": "main",
        "props": {
          "required": true,
          "title": "Indiqueu si no feu avaluació inicial, si la feu a l'inici del mòdul o si en feu una per cada UF"      
        },
         "config":{
            "options":[
                {"description":"No es fa","value":"NO"}, 
                {"description":"A l'inci","value":"INICI"}, 
                {"description":"Per cada UF","value":"PER_UF"}
            ]
         }            
      },
      "calendari": {
        "label": "Temporització (calendari)",
        "n_columns": 12,
        "type": "editableObject",
        "group": "actualitzables",
        "n_rows": 9,
        "props": {
          "data-editable-element": "table",
          "title": "Períodes en que seqüenciem el procés d'aprenentatge (apartats, projectes, pràctiques, etc.) i detall de la temporització"
        },
        "config": {
          "actions": {
            "add_default_row": "Afegir període",
            "remove_rows": "Eliminar períodes seleccionats",
            "add_default_row_before": "Afegir període abans de la fila seleccionada"
          },
          "fields": {
            "unitat": {
              "type": "number"
            },
            "període": {
                "type": "number"
            },
            "tipus període": {
                "type": "string"
            },
            "descripció període": {
                "type": "string"
            },
            "hores": {
              "type": "number"
            },
            "inici": {
              "type": "date"
            },
            "final": {
              "type": "date"
            }
          },
          "layout": [
            {
              "defaultCell": {
                "width" : "10%"
              },
              "cells": [
                {
                  "name": "unitat",
                  "field": "unitat",
                  "width": "8%",               
                  "editable": true
                },
                {
                  "name": "període",
                  "field": "període",
                  "width": "8%",               
                  "editable": true
                },
                {
                  "name": "tipus període",
                  "field": "tipus període",
                  "editable": true
                },
                {
                  "name": "descripció període",
                  "field": "descripció període",
                  "width": "46%",               
                  "editable": true
                },
                {
                  "name": "hores",
                  "field": "hores",
                  "width": "8%",               
                  "editable": true
                },
                {
                  "name": "inici",
                  "field": "inici",
                  "editable": true
                },
                {
                  "name": "final",
                  "field": "final",
                  "editable": true
                }
              ]
            }
          ]
        }
      },
      "datesAC": {
        "label":"Dates importants. EAC (datesAC)",
        "n_columns": 12,
        "type": "editableObject",
        "group": "actualitzables",
        "n_rows": 4,
        "props": {
          "data-editable-element": "table",
          "title": "Detalleu les dates importants de l'AC"
        },
        "config": {
          "actions": {
            "add_default_row": "Afegir un nou lliurament",
            "remove_rows": "Eliminar els lliuraments seleccionats",
            "add_default_row_before": "Afegir lliurament abans de la fila seleccionada"
          },
          "fields": {
            "id": {
              "type": "string"
            },
            "unitat": {
              "type": "number"
            },
            "enunciat": {
              "type": "date"
            },
            "lliurament": {
              "type": "date"
            },
            "hiHaSolucio": {
              "type": "boolean"
            },
            "solució": {
              "type": "date"
            },
            "qualificació": {
              "type": "date"
            }
          },
          "layout": [
            {
              "defaultCell": {
                "width" : "21%",
                "editable": true
              },
              "cells": [
                {
                  "name": "id",
                  "field": "id",
                  "width": "5%"
                },
                {
                  "name": "unitat",
                  "field": "unitat",
                  "width": "5%"
                },
                {
                  "name": "enunciat",
                  "field": "enunciat"
                },
                {
                  "name": "lliurament",
                  "field": "lliurament"
                },
                {
                  "name": "solució?",
                  "field": "hiHaSolucio"
                },
                {
                  "name": "solució",
                  "field": "solució"
                },
                {
                  "name": "qualificació",
                  "field": "qualificació"
                }
              ]
            }
          ]          
        }
      },
      "datesEAF": {
        "label":"Dates importants. EAF (datesEAF)",
        "n_columns": 12,
        "type": "editableObject",
        "group": "actualitzables",
        "n_rows": 4,
        "props": {
          "data-editable-element": "table",
          "title": "Detalleu les dates importants dels EAF"
        },
        "config": {
          "actions": {
            "add_default_row": "Afegir un nou EAF",
            "remove_rows": "Eliminar els EAF seleccionats",
            "add_default_row_before": "Afegir EAF abans de la fila seleccionada"
          },
          "fields": {
            "id": {
              "type": "string"
            },
            "unitat": {
              "type": "number"
            },
            "enunciat": {
              "type": "date"
            },
            "lliurament": {
              "type": "date"
            },
            "hiHaSolucio": {
              "type": "boolean"
            },
            "solució": {
              "type": "date"
            },
            "qualificació": {
              "type": "date"
            },
            "hiHaEnunciatRecuperacio": {
              "type": "boolean"
            },
            "enunciat recuperació": {
                "type": "date"
            },
            "lliurament recuperació": {
                "type": "date"
            },
            "solució recuperació": {
                "type": "date"
            },
            "qualificació recuperació": {
                "type": "date"
            }
          },
          "layout": [
            {
              "defaultCell": {
                "width" : "11%",
                "editable": true
              },
              "cells": [
                {
                  "name": "id",
                  "field": "id",
                  "width": "5%"
                },
                {
                  "name": "unitat",
                  "field": "unitat",
                  "width": "5%"
                },
                {
                  "name": "enunciat",
                  "field": "enunciat"
                },
                {
                  "name": "lliurament",
                  "field": "lliurament"
                },
                {
                  "name": "solució?",
                  "field": "hiHaSolucio"
                },
                {
                  "name": "solució",
                  "field": "solució"
                },
                {
                  "name": "qualificació",
                  "field": "qualificació"
                },
                {
                  "name": "enunciat recuperació?",
                  "field": "hiHaEnunciatRecuperacio"
                },
                {
                  "name": "enunciat recuperació",
                  "field": "enunciat recuperació"
                },
                {
                  "name": "lliurament recuperació",
                  "field": "lliurament recuperació"
                },
                {
                  "name": "solució recuperació",
                  "field": "solució recuperació"
                },
                {
                  "name": "qualificació recuperació",
                  "field": "qualificació recuperació"
                }
              ]
            }
          ]    
        }
      },
        "treballEquipEAF": {
            "label": "Treball en equip a l'EAF",
            "n_columns": 2,
            "group": "actualitzables",
            "type": "checkbox",
            "props": {
                "title": "Indiqueu si es demana treball en equip a l'EAF"
            }
        },
      "datesJT": {
        "label":"Dates importants. JT (datesJT)",
        "n_columns": 12,
        "type": "editableObject",
        "group": "actualitzables",
        "n_rows": 4,
        "props": {
          "data-editable-element": "table",
          "title": "Detalleu les dates importants de  les JT"
        },
        "config": {
          "actions": {
            "add_default_row": "Afegir una nova JT",
            "remove_rows": "Eliminar les JT seleccionades",
            "add_default_row_before": "Afegir JT abans de la fila seleccionada"
          },
          "fields": {
            "id": {
              "type": "string"
            },
            "inscripció": {
                "type": "date"
            },
            "llista provisional": {
                "type": "date"
            },
            "llista definitiva": {
                "type": "date"
            },
            "data JT": {
                "type": "date"
            },
            "qualificació": {
                "type": "date"
            },
            "hiHaRecuperacio": {
                "type": "boolean"
            },
            "inscripció recuperació": {
                "type": "date"
            },
            "llista provisional recuperació": {
                "type": "date"
            },
            "llista definitiva recuperació": {
                "type": "date"
            },
            "data JT recuperació": {
                "type": "date"
            },
            "qualificació recuperació": {
                "type": "date"
            }
          },
          "layout": [
            {
              "defaultCell": {
                "width" : "9%",
                "editable": true
              },
              "cells": [
                {
                  "name": "id",
                  "field": "id",
                  "width": "5%"
                },
                {
                  "name": "inscripció",
                  "field": "inscripció"
                },
                {
                  "name": "llista provisional",
                  "field": "llista provisional"
                },
                {
                  "name": "llista definitiva",
                  "field": "llista definitiva"
                },
                {
                  "name": "data JT",
                  "field": "data JT"
                },
                {
                  "name": "qualificació",
                  "field": "qualificació"
                },
                {
                  "name": "recuperació?",
                  "field": "hiHaRecuperacio"
                },
                {
                  "name": "inscripció recuperació",
                  "field": "inscripció recuperació"
                },
                {
                  "name": "llista provisional recuperació",
                  "field": "llista provisional recuperació"
                },
                {
                  "name": "llista definitiva recuperació",
                  "field": "llista definitiva recuperació"
                },
                {
                  "name": "data JT recuperació",
                  "field": "data JT recuperació"
                },
                {
                  "name": "qualificació recuperació",
                  "field": "qualificació recuperació"
                }
              ]
            }
          ]  
        }
      },
      "dataPaf1": {
        "label": "Data de la PAF 1 (dataPaf1)",
        "n_columns":6,
        "group": "actualitzables",
        "props": {
          "required": true,
          "title": "Indiqueu la data en que es realitzarà la PAF 1"
        }
      },
      "dataQualificacioPaf1": {
        "label": "Data de la qualificació de la PAF 1 (dataQualificacioPaf1)",
        "n_columns":6,
        "group": "actualitzables",
        "props": {
          "required": true,
          "title": "Indiqueu la data en que es realitzarà la PAF 1"
        }
      },
      "dataPaf2": {
        "label": "Data de la PAF 2 (dataPaf2)",
        "n_columns":6,
        "group": "actualitzables",
        "props": {
          "required": true,
          "title": "Indiqueu la data en que es realitzarà la PAF 2"
        }
      },
      "dataQualificacioPaf2": {
        "label": "Data de la qualificació de la PAF 2 (dataQualificacioPaf2)",
        "n_columns":6,
        "group": "actualitzables",
        "props": {
          "required": true,
          "title": "Indiqueu la data en que es realitzarà la PAF 2"
        }
      },
      "duradaPAF": {
        "label": "Durada de la PAF (duradaPAF)",
        "n_columns":6,
        "group": "main",
        "props": {
          "required": true,
          "title": "Indiqueu la durada màxima de la PAF"
        }
      },
      "notaMinimaPAF": {
        "label": "Nota mínima a la PAF (notaMinimaPAF)",
        "n_columns":4,
        "group": "main",
        "props": {
          "required": true,
          "title": "Indiqueu la nota mínima que cal treure a la PAF per tal de poder ponderar l'AC"
        }
      },
      "notaMinimaEAF": {
        "label": "Nota mínima a l'EAF (notaMinimaEAF)",
        "n_columns":4,
        "group": "main",
        "props": {
          "required": true,
          "title": "Indiqueu la nota mínima que cal treure a l'EAF per tal de poder ponderar la qualificació final"
        }
      },
      "notaMinimaJT": {
        "label": "Nota mínima a la JT (notaMinimaJT)",
        "n_columns":4,
        "group": "main",
        "props": {
          "required": true,
          "title": "Indiqueu la nota mínima que cal treure a la JT per tal de poder ponderar la qualificació final"
        }
      },
      "dadesQualificacioUFs": {
        "label": "Qualificació de les UF (dadesQualificacioUFs)",
        "n_columns": 12,
        "group": "main",
        "n_rows": 10,
        "type": "editableObject",
        "props": {
          "data-editable-element": "table",
          "title": "Detalleu com pondera L'AC i la PAF per cada UF"
        },
        "config": {
          "actions": {
            "add_default_row": "Afegir una nova dada",
            "remove_rows": "Eliminar les dades seleccionades",
            "add_default_row_before": "Afegir dada abans de la fila seleccionada"
          },
          "fields": {
            "unitat formativa": {
              "type": "number"
            },
            "tipus qualificació": {
              "type": "select",
              "options": ["AC", "EAF", "JT", "PAF"]                           
            },
            "descripció qualificació": {
              "type": "string"
            },
            "abreviació qualificació": {
              "type": "string"
            },
            "ponderació": {
              "type": "decimal"
            }
          }
        }
      },
      "dadesExtres": {
        "n_columns": 12,
        "group": "extres",
        "n_rows": 4,
        "type": "editableObject",
        "props": {
          "data-editable-element": "table"
        },
        "config": {
          "actions": {
            "add_default_row": "Afegir una nova dada",
            "remove_rows": "Eliminar les dades seleccionades",
            "add_default_row_before": "Afegir dada abans de la fila seleccionada"
          },
          "fields": {
            "nom": {
              "type": "string"
            },
            "tipus": {
              "type": "select",
              "options": ["dada"]                           
            },
            "valor": {
              "type": "string"
            }
          }
        }
      },
      "responsable": {
        "type" : "amd",
        "label": "Responsable de la creació (responsable)",
        "n_columns": 4,
        "group": "authorship",
        "props": {
            "required": true
        },
        "config":{
          "readonly": {"and":[{"class":"ValidationByRoles", "data":{"roles":["responsable"], "deniedResponse":true}}, {"class":"ValidationByGroups", "data":{"groups":["admin"], "deniedResponse":true}}]},
          "class" : {
            "edit": "IocFilteredList",
            "view": "IocListSelectedItems"
          },
          "data": {
            "ns":"",
            "buttonLabel": "Cercar",
            "fieldName": "responsable",
            "dialogTitle" : "Cercar responsable",
            "dialogButtonLabel" : "Afegir responsable",
            "data": "",
            "dataQuery": {
              "filter": ""
            },
            "searchDataUrl": "lib/exe/ioc_ajax.php?call=user_list",
            "fields": {
              "username": "Nom d'usuari",
              "name": "Nom"
            },
            "fieldId": "username",
            "defaultEntryField": "name"
          }
        }        
      },
      "autor": {
        "type": "amd",
        "label": "Autor (autor)",
        "n_columns": 4,
        "group": "authorship",
        "props": {
           "required": true
        },
        "config":{
          "readonly": {"and":[{"class":"ValidationByRoles", "data":{"roles":["responsable"], "deniedResponse":true}}, {"class":"ValidationByGroups", "data":{"groups":["admin"], "deniedResponse":true}}]},
          "class" : {
            "edit": "IocFilteredList",
            "view": "IocListSelectedItems"
          },
          "data": {
            "ns":"",
            "buttonLabel": "Cercar",
            "fieldName": "autor",
            "dialogTitle" : "Cercar autor",
            "dialogButtonLabel" : "Afegir autor",
            "data": "",
            "dataQuery": {
              "filter": ""
            },
            "searchDataUrl": "lib/exe/ioc_ajax.php?call=user_list",
            "fields": {
              "username": "Nom d'usuari",
              "name": "Nom"
            },
            "fieldId": "username",
            "defaultEntryField": "name"
          }
        }
      },
      "supervisor": {
        "type": "amd",
        "label": "Supervisor (supervisor)",
        "n_columns": 4,
        "group": "authorship",
        "props": {
          "required": true
        },
        "config":{
          "readonly": {"and":[{"class":"ValidationByRoles", "data":{"roles":["responsable"], "deniedResponse":true}}, {"class":"ValidationByGroups", "data":{"groups":["admin"], "deniedResponse":true}}]},
          "class" : {
            "edit": "IocFilteredList",
            "view": "IocListSelectedItems"
          },
          "data": {
            "ns":"",
            "buttonLabel": "Cercar",
            "fieldName": "supervisor",
            "dialogTitle" : "Cercar supervisor",
            "dialogButtonLabel" : "Afegir supervior",
            "data": "",
            "dataQuery": {
              "filter": ""
            },
            "searchDataUrl": "lib/exe/ioc_ajax.php?call=user_list",
            "fields": {
              "username": "Nom d'usuari",
              "name": "Nom"
            },
            "fieldId": "username",
            "defaultEntryField": "name"
          }
        }
      },
      "notaMinimaAC": {
        "type":"hidden"
      },
      "plantilla": {
        "type" : "hidden"
      },
      "fitxercontinguts": {
        "type" : "hidden"
      },
      "hiHaRecuperacioPerJT":{
        "type" : "hidden"
      },
      "hiHaSolucioPerEAF":{
        "type" : "hidden"
      },
      "hiHaSolucioPerAC":{
        "type" : "hidden"
      },
      "hiHaEnunciatRecuperacioPerEAF":{
        "type" : "hidden"
      }
    }
}
