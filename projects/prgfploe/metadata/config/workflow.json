{
    "creating": {
        "actions": {
            "view": {
                "permissions": {
                    "groups": [
                        "admin",
                        "manager"
                     ],
                     "rols": [
                        "responsable",
                        "autor"
                    ]
                },
                "changeStateTo": "creating"
            },
            "edit": {
                "permissions": {
                    "groups": [
                        "admin",
                        "manager"
                     ],
                     "rols": [
                        "responsable",
                        "autor"
                    ]
                },
                "button": {
                    "id": "editProjectButton",
                    "toSet": {
                        "title": "Edició general",
                        "query": "do=workflow&action=edit"
                    },
                    "scripts": {
                        "updateHandler": {
                            "conditions": {
                                "page.action": "'project_view'"
                            }
                        }
                    }
                },
                "changeStateTo":"creating"
            },
            "import": {
                "permissions": {
                    "groups": [
                        "admin",
                        "manager"
                     ],
                     "rols": [
                        "responsable",
                        "autor"
                    ]
                },
                "button": {
                    "id": "importProjectButton",
                    "class": "WikiIocButton",
                    "parms": {
                        "DOM": {
                           "id": "importProjectButton",
                           "title": "Importar projecte",
                           "class": "iocDisplayBlock"
                        },
                        "DJO": {
                           "autoSize": true,
                           "visible": true,
                           "iconClass": "'iocImportProjectIcon'",
                           "NomProjectelabel": "'Ruta del Projecte'",
                           "NomProjectelplaceHolder": "'Ruta del Projecte'",
                           "labelButtonAcceptar": "'Acceptar'",
                           "labelButtonCancellar": "'Cancel·lar'",
                           "urlBase": "'lib/exe/ioc_ajax.php?call=project'",
                           "projectType": ["ptfct", "ptfploe", "sintesi"],
                           "standbyId": "'bodyContent'",
                           "disableOnSend": true
                        }
                    },
                    "scripts": {
                        "getFunctions": {
                            "path": "importButton.js"
                        },
                        "updateHandler": {
                            "permissions": [
                               "isadmin",
                               "ismanager"
                            ],
                            "rols": [
                               "responsable",
                               "autor"
                            ],
                            "conditions": {
                                "page.action": "'project_view'",
                                "page.isRevision": "false"
                            }
                        }
                    }
                },
                "changeStateTo":"creating"
            },
            "startedit": {
                "permissions": {
                    "groups": [
                        "admin",
                        "manager"
                     ],
                     "rols": [
                        "responsable",
                        "autor"
                    ]
                },
                "button": {
                    "id": "startEditProjectButton",
                    "class": "WikiIocButton",
                    "parms": { 
                        "DOM": {
                            "id": "startEditProjectButton",
                            "title": "Edició de les dades del projecte",
                            "class": "iocDisplayBlock"
                        },
                        "DJO": {
                           "autoSize": true,
                           "visible": true,
                           "iconClass": "'iocStartEditDataProjectIcon'",
                           "labelText": "'Atenció: Aquest procès de modificació de les dades requerirà una revisió i validació posterior. Vols continuar?'",
                           "labelButtonAcceptar": "'Acceptar'",
                           "labelButtonCancellar": "'Cancel·lar'",
                           "urlBase": "'lib/exe/ioc_ajax.php?call=project'",
                           "standbyId": "'bodyContent'",
                           "disableOnSend": true
                        }
                    },
                    "scripts": {
                        "getFunctions": {
                            "path": "StartEditButton.js"
                        },
                        "updateHandler": {
                            "permissions": [
                               "isadmin",
                               "ismanager"
                            ],
                            "rols": [
                               "responsable",
                               "autor"
                            ],
                            "conditions": {
                                "page.action": "'project_view'",
                                "page.isRevision": "false"
                            }
                        }
                    }
                },
                "changeStateTo":"editing"
            }
        }
    },
    "editing": {
        "actions": {
            "markauthor": {
                "permissions": {
                    "groups": [
                        "admin",
                        "manager"
                     ],
                     "rols": [
                        "responsable",
                        "autor"
                    ]
                },
                "button": {
                    "id": "markAuthorProjectButton",
                    "class": "WikiIocButton",
                    "parms": { 
                        "DOM": {
                            "id": "markAuthorProjectButton",
                            "title": "Marca Edició Completada",
                            "class": "iocDisplayBlock"
                        },
                        "DJO": {
                           "autoSize": true,
                           "visible": true,
                           "iconClass": "'iocMarkAutorDataProjectIcon'",
                           "labelText": "'Marca Edició Completada'",
                           "labelButtonAcceptar": "'Acceptar'",
                           "labelButtonCancellar": "'Cancel·lar'",
                           "urlBase": "'lib/exe/ioc_ajax.php?call=project'",
                           "standbyId": "'bodyContent'",
                           "disableOnSend": true
                        }
                    },
                    "scripts": {
                        "getFunctions": {
                            "path": "MarkAuthorButton.js"
                        },
                        "updateHandler": {
                            "permissions": [
                               "isadmin",
                               "ismanager"
                            ],
                            "rols": [
                               "responsable",
                               "autor"
                            ],
                            "conditions": {
                                "page.action": "'project_view'",
                                "page.isRevision": "false"
                            }
                        }
                    }
                },
                "changeStateTo":"editing"
            },
            "markrevisor": {
                "permissions": {
                    "groups": [
                        "admin",
                        "manager"
                     ],
                     "rols": [
                        "responsable",
                        "autor"
                    ]
                },
                "button": {
                    "id": "markRevisorProjectButton",
                    "class": "WikiIocButton",
                    "parms": { 
                        "DOM": {
                            "id": "markRevisorProjectButton",
                            "title": "Marca Revisió Completada",
                            "class": "iocDisplayBlock"
                        },
                        "DJO": {
                           "autoSize": true,
                           "visible": true,
                           "iconClass": "'iocMarkRevisorDataProjectIcon'",
                           "labelText": "'Marca Revisió Completada'",
                           "labelButtonAcceptar": "'Acceptar'",
                           "labelButtonCancellar": "'Cancel·lar'",
                           "urlBase": "'lib/exe/ioc_ajax.php?call=project'",
                           "standbyId": "'bodyContent'",
                           "disableOnSend": true
                        }
                    },
                    "scripts": {
                        "getFunctions": {
                            "path": "MarkRevisorButton.js"
                        },
                        "updateHandler": {
                            "permissions": [
                               "isadmin",
                               "ismanager"
                            ],
                            "rols": [
                               "responsable",
                               "autor"
                            ],
                            "conditions": {
                                "page.action": "'project_view'",
                                "page.isRevision": "false"
                            }
                        }
                    }
                },
                "changeStateTo":"editing"
            },
            "markvalidator": {
                "permissions": {
                    "groups": [
                        "admin",
                        "manager"
                     ],
                     "rols": [
                        "responsable",
                        "autor"
                    ]
                },
                "button": {
                    "id": "markValidatorProjectButton",
                    "class": "WikiIocButton",
                    "parms": { 
                        "DOM": {
                            "id": "markValidatorProjectButton",
                            "title": "Validació de les dades",
                            "class": "iocDisplayBlock"
                        },
                        "DJO": {
                           "autoSize": true,
                           "visible": true,
                           "iconClass": "'iocMarkValidatorDataProjectIcon'",
                           "DateLabel": "'data de la validació'",
                           "labelButtonAcceptar": "'Acceptar'",
                           "labelButtonCancellar": "'Cancel·lar'",
                           "urlBase": "'lib/exe/ioc_ajax.php?call=project'",
                           "standbyId": "'bodyContent'",
                           "disableOnSend": true
                        }
                    },
                    "scripts": {
                        "getFunctions": {
                            "path": "MarkValidatorButton.js"
                        },
                        "updateHandler": {
                            "permissions": [
                               "isadmin",
                               "ismanager"
                            ],
                            "rols": [
                               "responsable",
                               "autor"
                            ],
                            "conditions": {
                                "page.action": "'project_view'",
                                "page.isRevision": "false"
                            }
                        }
                    }
                },
                "changeStateTo":"editing"
            }
        }
    }
}
