{
    "creating": {
        "actions": {
            "view": {
                "permissions": {
                    "groups": [
                        "admin",
                        "manager"
                     ],
                     "rols": [
                        "responsable",
                        "autor"
                    ]
                },
                "changeStateTo": "creating"
            },
            "edit": {
                "permissions": {
                    "groups": [
                        "admin",
                        "manager"
                     ],
                     "rols": [
                        "responsable",
                        "autor"
                    ]
                },
                "button": {
                    "id": "editProjectButton",
                    "toSet": {
                        "title": "Edició general",
                        "query": "do=workflow&action=edit"
                    },
                    "scripts": {
                        "updateHandler": {
                            "conditions": {
                                "page.action": "'project_view'"
                            }
                        }
                    }
                },
                "changeStateTo":"creating"
            },
            "import": {
                "permissions": {
                    "groups": [
                        "admin",
                        "manager"
                     ],
                     "rols": [
                        "responsable",
                        "autor"
                    ]
                },
                "button": {
                    "id": "importProjectButton",
                    "class": "WikiIocButton",
                    "parms": {
                        "DOM": {
                           "id": "importProjectButton",
                           "title": "Importar projecte",
                           "class": "iocDisplayBlock"
                        },
                        "DJO": {
                           "autoSize": true,
                           "visible": true,
                           "iconClass": "'iocImportProjectIcon'",
                           "NomProjectelabel": "'Ruta del Projecte'",
                           "NomProjectelplaceHolder": "'Ruta del Projecte'",
                           "labelButtonAcceptar": "'Acceptar'",
                           "labelButtonCancellar": "'Cancel·lar'",
                           "urlBase": "'lib/exe/ioc_ajax.php?call=project'",
                           "projectType": ["ptfct", "ptfploe", "sintesi"],
                           "standbyId": "'bodyContent'",
                           "disableOnSend": true
                        }
                    },
                    "scripts": {
                        "getFunctions": {
                            "path": "importButton.js"
                        },
                        "updateHandler": {
                            "permissions": [
                               "isadmin",
                               "ismanager"
                            ],
                            "rols": [
                               "responsable",
                               "autor"
                            ],
                            "conditions": {
                                "page.action": "'project_view'",
                                "page.isRevision": "false"
                            }
                        }
                    }
                },
                "changeStateTo":"creating"
            }
        }
    },
    "revising": {
        "actions": {

        }
    },
    "validating": {
        "actions": {

        }
    },
    "validated": {
        "actions": {
            "tomodify": {
                "permissions": {
                    "groups": [
                        "admin",
                        "manager"
                     ],
                     "rols": [
                        "responsable",
                        "autor"
                    ]
                },
                "button": {
                    "id": "toModifyProjectButton",
                    "class": "WikiIocButton",
                    "parms": {
                        "DOM": {
                            "id": "toModifyProjectButton",
                            "title": "Edició de les dades del projecte",
                            "class": "iocDisplayBlock"
                        },
                        "DJO": {
                           "autoSize": true,
                           "visible": true,
                           "iconClass": "'iocToModifyDataProjectIcon'",
                           "labelText": "'Atenció: Aquest procès de modificació de les dades requerirà una revisió i validació posterior. Vols continuar?'",
                           "labelButtonAcceptar": "'Acceptar'",
                           "labelButtonCancellar": "'Cancel·lar'",
                           "urlBase": "'lib/exe/ioc_ajax.php?call=project'",
                           "standbyId": "'bodyContent'",
                           "disableOnSend": true
                        }
                    },
                    "scripts": {
                        "getFunctions": {
                            "path": "ToModifyButton.js"
                        },
                        "updateHandler": {
                            "permissions": [
                               "isadmin",
                               "ismanager"
                            ],
                            "rols": [
                               "responsable",
                               "autor"
                            ],
                            "conditions": {
                                "page.action": "'project_view'",
                                "page.isRevision": "false"
                            }
                        }
                    }
                },
                "changeStateTo": "modifiying"
            }
        }
    },
    "modifiying": {
        "actions": {
            "torevise": {
                "permissions": {
                    "groups": [
                        "admin",
                        "manager"
                     ],
                     "rols": [
                        "responsable",
                        "autor"
                    ]
                },
                "button": {
                    "id": "toReviseProjectButton",
                    "class": "WikiIocButton",
                    "parms": {
                        "DOM": {
                            "id": "toReviseProjectButton",
                            "title": "Marca Edició Completada",
                            "class": "iocDisplayBlock"
                        },
                        "DJO": {
                           "autoSize": true,
                           "visible": true,
                           "iconClass": "'iocToReviseDataProjectIcon'",
                           "labelText": "'Marca Edició completada, disponible per a Revisió'",
                           "labelButtonAcceptar": "'Acceptar'",
                           "labelButtonCancellar": "'Cancel·lar'",
                           "urlBase": "'lib/exe/ioc_ajax.php?call=project'",
                           "standbyId": "'bodyContent'",
                           "disableOnSend": true
                        }
                    },
                    "scripts": {
                        "getFunctions": {
                            "path": "ToReviseButton.js"
                        },
                        "updateHandler": {
                            "permissions": [
                               "isadmin",
                               "ismanager"
                            ],
                            "rols": [
                               "responsable",
                               "autor"
                            ],
                            "conditions": {
                                "page.action": "'project_view'",
                                "page.isRevision": "false"
                            }
                        }
                    }
                },
                "changeStateTo":"editing"
            },
            "tovalidate": {
                "permissions": {
                    "groups": [
                        "admin",
                        "manager"
                     ],
                     "rols": [
                        "responsable",
                        "autor"
                    ]
                },
                "button": {
                    "id": "toValidateProjectButton",
                    "class": "WikiIocButton",
                    "parms": {
                        "DOM": {
                            "id": "toValidateProjectButton",
                            "title": "Marca Revisió Completada",
                            "class": "iocDisplayBlock"
                        },
                        "DJO": {
                           "autoSize": true,
                           "visible": true,
                           "iconClass": "'iocToValidateDataProjectIcon'",
                           "labelText": "'Marca Revisió Completada'",
                           "labelButtonAcceptar": "'Acceptar'",
                           "labelButtonCancellar": "'Cancel·lar'",
                           "urlBase": "'lib/exe/ioc_ajax.php?call=project'",
                           "standbyId": "'bodyContent'",
                           "disableOnSend": true
                        }
                    },
                    "scripts": {
                        "getFunctions": {
                            "path": "ToValidateButton.js"
                        },
                        "updateHandler": {
                            "permissions": [
                               "isadmin",
                               "ismanager"
                            ],
                            "rols": [
                               "responsable",
                               "autor"
                            ],
                            "conditions": {
                                "page.action": "'project_view'",
                                "page.isRevision": "false"
                            }
                        }
                    }
                },
                "changeStateTo":"editing"
            },
            "validate": {
                "permissions": {
                    "groups": [
                        "admin",
                        "manager"
                     ],
                     "rols": [
                        "responsable",
                        "autor"
                    ]
                },
                "button": {
                    "id": "validateProjectButton",
                    "class": "WikiIocButton",
                    "parms": {
                        "DOM": {
                            "id": "validateProjectButton",
                            "title": "Validació de les dades",
                            "class": "iocDisplayBlock"
                        },
                        "DJO": {
                           "autoSize": true,
                           "visible": true,
                           "iconClass": "'iocValidateDataProjectIcon'",
                           "DateLabel": "'data de la validació'",
                           "labelButtonAcceptar": "'Acceptar'",
                           "labelButtonCancellar": "'Cancel·lar'",
                           "urlBase": "'lib/exe/ioc_ajax.php?call=project'",
                           "standbyId": "'bodyContent'",
                           "disableOnSend": true
                        }
                    },
                    "scripts": {
                        "getFunctions": {
                            "path": "ValidateButton.js"
                        },
                        "updateHandler": {
                            "permissions": [
                               "isadmin",
                               "ismanager"
                            ],
                            "rols": [
                               "responsable",
                               "autor"
                            ],
                            "conditions": {
                                "page.action": "'project_view'",
                                "page.isRevision": "false"
                            }
                        }
                    }
                },
                "changeStateTo":"editing"
            }
        }
    }
}
